<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>Nginx Module Development Process</title>
    <link type="text/css" rel="stylesheet" href="../assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="../assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="../assets/css/hljs-github.min.css"/>
  </head>
  <body>
    <article class="markdown-body"><h2 id="nginx-module-development-process"><a class="header-link" href="#nginx-module-development-process"></a>Nginx Module Development Process</h2>
<h3 id="-"><a class="header-link" href="#-"></a>工序流程图</h3>
<p class="img-container"><img src="development.png" alt="architect"></p>
<h3 id="--1"><a class="header-link" href="#--1"></a>工序流程要点说明</h3>
<ul class="list">
<li><strong>红色标注的工序通常经验越丰富，越关注这块，反之越不关注</strong></li>
<li><strong>蓝色标注的是最容易忽略，但最容易出事故的流程</strong>  </li>
<li>http 接口配置文件可参考 <a href="../advanced/ngx_wizard.html">ngx_wizard</a> 的相关说明</li>
<li>通信接口配置文件可参考 <a href="../advanced/jsoncgen.html">jsoncgen</a> 的相关说明  </li>
<li>nginx 工程配置的更新可参考 <a href="../appendix/project.html">附录</a>  </li>
<li>测试阶段的 <strong>单测、压测和交叉测试</strong> 是保证程序可用的关键， <strong>任何一步都不可省略</strong> 。  <ul class="list">
<li>单测主要保证程序 <strong>基本功能可用</strong> ，可用单步调试的方法 <strong>走完程序的每一个逻辑分支</strong> 。  </li>
<li>压测主要用于保证程序在重复处理大量请求的情况下， <strong>不出现任何资源泄露的问题</strong> 。压测的脚本通常由开发模块的人员自行完成。</li>
<li>交叉测试的执行人员通常由 <strong>第三方</strong> 的开发或者测试担任（不能由开发模块的人员执行），用于保证程序的容错性和高可用性。</li>
</ul>
</li>
<li>代码入库的流程通常是开发者极其容易忽略的一个环节。<ul class="list">
<li>如果工程只有一个开发者独立完成，则该流程可忽略。  </li>
<li>一旦涉及到 <strong>多个开发者</strong> 并行工作，该流程务必要严格执行，否则非常容易出现 <strong>将不该入库的代码入库</strong> 的情况，这将导致在测试出现问题的时候 <strong>无法高效定位</strong> 。</li>
</ul>
</li>
<li>部署命令配置文件可参考 <a href="../advanced/deploygen.html">deploygen</a> 的相关说明  </li>
<li>部署脚本的检查是上线前的最后一道工序。该工序 <strong>绝对不能省略</strong> ，否则一旦部署出现问题，会 <strong>直接影响线上业务的稳定运行</strong> ，损失难以估量。检查要点包括：<ul class="list">
<li>部署命令是否正确，可以在测试机器中进行部署，看结果是否正确。</li>
<li>部署的主机列表是否正确，可通过文本比对工具进行比较。  </li>
</ul>
</li>
</ul>
<p><a href="./index.html">上一级</a></p>
<p><a href="../index.html">根目录</a></p>
    </article>
  </body>
</html>
